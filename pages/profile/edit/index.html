<div class="container">
  <form @submit.prevent="onSubmit">
    <div class="user-icon__area">
      <img :src="userIcons[newUserIcon].url" alt="user icon" class="user-icon" />
      <div class="user-icon__filter" @click="onClick()">
        <Fa icon="sync" class="sync-icon" area-hidden="true" />
      </div>
    </div>
    <div class="info">
      <div class="info-item">
        <div class="info-label">ユーザーID</div>
        <div class="info-data">
          <TextBox name="userId" :defaultValue="user.id" @input="onChange" />
        </div>
      </div>
      <div class="info-item">
        <div class="info-label">
          レート
          <nuxt-link to="/rank" class="question-link">
            <Fa icon="clipboard" class="question-icon" area-hidden="true" />
          </nuxt-link>
        </div>
        <div class="info-data">
          <img :src="getRateIcon()" alt="rate icon" class="rate-icon" />
          {{ user.rate }}
        </div>
      </div>
      <div class="info-item">
        <div class="info-label">戦績</div>
        <div class="info-data">{{ user.history }}</div>
      </div>
    </div>
    <div class="btn-area">
      <Button :to="`/profile/${user.id}`" size="middle">
        <template v-slot:text>
          <span>やめる</span>
        </template>
      </Button>
      <Button size="middle" type="submit" :disabled="checkDisabled()">
        <template v-slot:text>
          <span>ほぞん</span>
        </template>
      </Button>
    </div>
  </form>
  <Modal ref="userIconModal" :isClickSelf="true">
    <template v-slot:content>
      <div>
        <div class="user-icon__select">
          <Fa icon="caret-left" class="caret-icon" area-hidden="true" @click="prev()" />
          <div class="user-icon__area">
            <img :src="userIcons[currentUserIcon].url" alt="user icon" class="user-icon" />
          </div>
          <Fa icon="caret-right" class="caret-icon" area-hidden="true" @click="next()" />
        </div>
        <div class="user-icon__name">
          <Fa v-if="newUserIcon === currentUserIcon" icon="clipboard" class="check-icon" area-hidden="true" />
          {{userIcons[currentUserIcon].name}}
        </div>
        <Button size="small" :disabled="currentUserIcon === newUserIcon" @click.native="selectIcon()">
          <template v-slot:text>
            <span>けってい</span>
          </template>
        </Button>
      </div>
    </template>
  </Modal>
</div>
